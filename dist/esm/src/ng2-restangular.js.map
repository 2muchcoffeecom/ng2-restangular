{"version":3,"file":"ng2-restangular.js","sourceRoot":"","sources":["../../../src/ng2-restangular.ts"],"names":[],"mappings":"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","sourcesContent":["import {Injectable, Inject, Injector, Optional} from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport * as _ from 'lodash';\n\nimport {RESTANGULAR} from './ng2-restangular.config';\nimport {RestangularHttp} from './ng2-restangular-http';\n\n\n\nexport class Restangular {\n  provider;\n  extendCollection;\n  copy;\n  configuration;\n  service;\n  id;\n  route;\n  parentResource;\n  restangularCollection;\n  cannonicalId;\n  etag;\n  selfLink;\n  get;\n  getList;\n  put;\n  post;\n  remove;\n  head;\n  trace;\n  options;\n  patch;\n  getRestangularUrl;\n  getRequestedUrl;\n  putElement;\n  addRestangularMethod;\n  getParentList;\n  clone;\n  ids;\n  httpConfig;\n  reqParams;\n  one;\n  all;\n  several;\n  oneUrl;\n  allUrl;\n  customPUT;\n  customPATCH;\n  customPOST;\n  customDELETE;\n  customGET;\n  customGETLIST;\n  customOperation;\n  doPUT;\n  doPATCH;\n  doPOST;\n  doDELETE;\n  doGET;\n  doGETLIST;\n  fromServer;\n  withConfig;\n  withHttpConfig;\n  singleOne;\n  plain;\n  save;\n  restangularized;\n  restangularizeElement;\n  restangularizeCollection;\n  \n  constructor(\n      public configObj,\n    private injector: Injector,\n    private http: RestangularHttp\n  ) {\n    this.provider = new providerConfig(http);\n    let element = this.provider.$get();\n    Object.assign(this, element);\n    \n    this.setDefaultConfig();\n  }\n  \n  setDefaultConfig(){\n    if(!this.configObj || !_.isFunction(this.configObj.fn)){\n      return;\n    }\n    \n    let arrDI = _.map(this.configObj.arrServices, (services)=>{\n      return this.injector.get(services);\n    });\n    \n    this.configObj.fn(...[this.provider,  ...arrDI]);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: ({type: any, decorators?: DecoratorInvocation[]}|null)[] = [\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [RESTANGULAR, ] }, ]},\n{type: Injector, },\n{type: RestangularHttp, },\n];\n}\n\nfunction providerConfig($http) {\n  // Configuration\n  var Configurer: any = {};\n  Configurer.init = function (object, config) {\n    object.configuration = config;\n    \n    /**\n     * Those are HTTP safe methods for which there is no need to pass any data with the request.\n     */\n    var safeMethods = ['get', 'head', 'options', 'trace', 'getlist'];\n    config.isSafe = function (operation) {\n      return _.includes(safeMethods, operation.toLowerCase());\n    };\n    \n    var absolutePattern = /^https?:\\/\\//i;\n    config.isAbsoluteUrl = function (string) {\n      return _.isUndefined(config.absoluteUrl) || _.isNull(config.absoluteUrl) ?\n      string && absolutePattern.test(string) :\n        config.absoluteUrl;\n    };\n    \n    config.absoluteUrl = _.isUndefined(config.absoluteUrl) ? true : config.absoluteUrl;\n    object.setSelfLinkAbsoluteUrl = function (value) {\n      config.absoluteUrl = value;\n    };\n    /**\n     * This is the BaseURL to be used with Restangular\n     */\n    config.baseUrl = _.isUndefined(config.baseUrl) ? '' : config.baseUrl;\n    object.setBaseUrl = function (newBaseUrl) {\n      config.baseUrl = /\\/$/.test(newBaseUrl) ?\n        newBaseUrl.substring(0, newBaseUrl.length - 1) :\n        newBaseUrl;\n      return this;\n    };\n    \n    /**\n     * Sets the extra fields to keep from the parents\n     */\n    config.extraFields = config.extraFields || [];\n    object.setExtraFields = function (newExtraFields) {\n      config.extraFields = newExtraFields;\n      return this;\n    };\n    \n    /**\n     * Some default $http parameter to be used in EVERY call\n     **/\n    config.defaultHttpFields = config.defaultHttpFields || {};\n    object.setDefaultHttpFields = function (values) {\n      config.defaultHttpFields = values;\n      return this;\n    };\n    \n    /**\n     * Always return plain data, no restangularized object\n     **/\n    config.plainByDefault = config.plainByDefault || false;\n    object.setPlainByDefault = function (value) {\n      config.plainByDefault = value === true ? true : false;\n      return this;\n    }\n    \n    config.withHttpValues = function (httpLocalConfig, obj) {\n      return _.defaults(obj, httpLocalConfig, config.defaultHttpFields);\n    };\n    \n    config.encodeIds = _.isUndefined(config.encodeIds) ? true : config.encodeIds;\n    object.setEncodeIds = function (encode) {\n      config.encodeIds = encode;\n    };\n    \n    config.defaultRequestParams = config.defaultRequestParams || {\n        get: {},\n        post: {},\n        put: {},\n        remove: {},\n        common: {}\n      };\n    \n    object.setDefaultRequestParams = function (param1, param2) {\n      var methods = [],\n        params = param2 || param1;\n      if (!_.isUndefined(param2)) {\n        if (_.isArray(param1)) {\n          methods = param1;\n        } else {\n          methods.push(param1);\n        }\n      } else {\n        methods.push('common');\n      }\n      \n      _.each(methods, function (method) {\n        config.defaultRequestParams[method] = params;\n      });\n      return this;\n    };\n    \n    object.requestParams = config.defaultRequestParams;\n    \n    config.defaultHeaders = config.defaultHeaders || {};\n    object.setDefaultHeaders = function (headers) {\n      config.defaultHeaders = headers;\n      object.defaultHeaders = config.defaultHeaders;\n      return this;\n    };\n    \n    object.defaultHeaders = config.defaultHeaders;\n    \n    \n    /**\n     * Method overriders response Method\n     **/\n    config.defaultResponseMethod = config.defaultResponseMethod || 'promise';\n    object.setDefaultResponseMethod = function (method) {\n      config.defaultResponseMethod = method;\n      object.defaultResponseMethod = config.defaultResponseMethod;\n      return this;\n    };\n    object.defaultResponseMethod = config.defaultResponseMethod;\n    \n    /**\n     * Method overriders will set which methods are sent via POST with an X-HTTP-Method-Override\n     **/\n    config.methodOverriders = config.methodOverriders || [];\n    object.setMethodOverriders = function (values) {\n      var overriders = _.extend([], values);\n      if (config.isOverridenMethod('delete', overriders)) {\n        overriders.push('remove');\n      }\n      config.methodOverriders = overriders;\n      return this;\n    };\n    \n    config.jsonp = _.isUndefined(config.jsonp) ? false : config.jsonp;\n    object.setJsonp = function (active) {\n      config.jsonp = active;\n    };\n    \n    config.isOverridenMethod = function (method, values) {\n      var search = values || config.methodOverriders;\n      return !_.isUndefined(_.find(search, function (one: string) {\n        return one.toLowerCase() === method.toLowerCase();\n      }));\n    };\n    \n    /**\n     * Sets the URL creator type. For now, only Path is created. In the future we'll have queryParams\n     **/\n    config.urlCreator = config.urlCreator || 'path';\n    object.setUrlCreator = function (name) {\n      if (!_.has(config.urlCreatorFactory, name)) {\n        throw new Error('URL Path selected isn\\'t valid');\n      }\n      \n      config.urlCreator = name;\n      return this;\n    };\n    \n    /**\n     * You can set the restangular fields here. The 3 required fields for Restangular are:\n     *\n     * id: Id of the element\n     * route: name of the route of this element\n     * parentResource: the reference to the parent resource\n     *\n     *  All of this fields except for id, are handled (and created) by Restangular. By default,\n     *  the field values will be id, route and parentResource respectively\n     */\n    config.restangularFields = config.restangularFields || {\n        id: 'id',\n        route: 'route',\n        parentResource: 'parentResource',\n        restangularCollection: 'restangularCollection',\n        cannonicalId: '__cannonicalId',\n        etag: 'restangularEtag',\n        selfLink: 'href',\n        get: 'get',\n        getList: 'getList',\n        put: 'put',\n        post: 'post',\n        remove: 'remove',\n        head: 'head',\n        trace: 'trace',\n        options: 'options',\n        patch: 'patch',\n        getRestangularUrl: 'getRestangularUrl',\n        getRequestedUrl: 'getRequestedUrl',\n        putElement: 'putElement',\n        addRestangularMethod: 'addRestangularMethod',\n        getParentList: 'getParentList',\n        clone: 'clone',\n        ids: 'ids',\n        httpConfig: '_$httpConfig',\n        reqParams: 'reqParams',\n        one: 'one',\n        all: 'all',\n        several: 'several',\n        oneUrl: 'oneUrl',\n        allUrl: 'allUrl',\n        customPUT: 'customPUT',\n        customPATCH: 'customPATCH',\n        customPOST: 'customPOST',\n        customDELETE: 'customDELETE',\n        customGET: 'customGET',\n        customGETLIST: 'customGETLIST',\n        customOperation: 'customOperation',\n        doPUT: 'doPUT',\n        doPATCH: 'doPATCH',\n        doPOST: 'doPOST',\n        doDELETE: 'doDELETE',\n        doGET: 'doGET',\n        doGETLIST: 'doGETLIST',\n        fromServer: 'fromServer',\n        withConfig: 'withConfig',\n        withHttpConfig: 'withHttpConfig',\n        singleOne: 'singleOne',\n        plain: 'plain',\n        save: 'save',\n        restangularized: 'restangularized'\n      };\n    object.setRestangularFields = function (resFields) {\n      config.restangularFields =\n        _.extend(config.restangularFields, resFields);\n      return this;\n    };\n    \n    config.isRestangularized = function (obj) {\n      return !!obj[config.restangularFields.restangularized];\n    };\n    \n    config.setFieldToElem = function (field, elem, value) {\n      var properties = field.split('.');\n      var idValue = elem;\n      _.each(_.initial(properties), function (prop: any) {\n        idValue[prop] = {};\n        idValue = idValue[prop];\n      });\n      var index: any = _.last(properties);\n      idValue[index] = value;\n      return this;\n    };\n    \n    config.getFieldFromElem = function (field, elem) {\n      var properties = field.split('.');\n      var idValue: any = elem;\n      _.each(properties, function (prop) {\n        if (idValue) {\n          idValue = idValue[prop];\n        }\n      });\n      return _.clone(idValue);\n    };\n    \n    config.setIdToElem = function (elem, id /*, route */) {\n      config.setFieldToElem(config.restangularFields.id, elem, id);\n      return this;\n    };\n    \n    config.getIdFromElem = function (elem) {\n      return config.getFieldFromElem(config.restangularFields.id, elem);\n    };\n    \n    config.isValidId = function (elemId) {\n      return '' !== elemId && !_.isUndefined(elemId) && !_.isNull(elemId);\n    };\n    \n    config.setUrlToElem = function (elem, url /*, route */) {\n      config.setFieldToElem(config.restangularFields.selfLink, elem, url);\n      return this;\n    };\n    \n    config.getUrlFromElem = function (elem) {\n      return config.getFieldFromElem(config.restangularFields.selfLink, elem);\n    };\n    \n    config.useCannonicalId = _.isUndefined(config.useCannonicalId) ? false : config.useCannonicalId;\n    object.setUseCannonicalId = function (value) {\n      config.useCannonicalId = value;\n      return this;\n    };\n    \n    config.getCannonicalIdFromElem = function (elem) {\n      var cannonicalId = elem[config.restangularFields.cannonicalId];\n      var actualId = config.isValidId(cannonicalId) ? cannonicalId : config.getIdFromElem(elem);\n      return actualId;\n    };\n    \n    /**\n     * Sets the Response parser. This is used in case your response isn't directly the data.\n     * For example if you have a response like {meta: {'meta'}, data: {name: 'Gonto'}}\n     * you can extract this data which is the one that needs wrapping\n     *\n     * The ResponseExtractor is a function that receives the response and the method executed.\n     */\n    \n    config.responseInterceptors = config.responseInterceptors || [];\n    \n    config.defaultResponseInterceptor = function (data /*, operation, what, url, response, subject */) {\n      return data;\n    };\n    \n    config.responseExtractor = function (data, operation, what, url, response, subject) {\n      var interceptors = _.clone(config.responseInterceptors);\n      interceptors.push(config.defaultResponseInterceptor);\n      var theData = data;\n      _.each(interceptors, function (interceptor) {\n        theData = interceptor(theData, operation,\n          what, url, response, subject);\n      });\n      return theData;\n    };\n    \n    object.addResponseInterceptor = function (extractor) {\n      config.responseInterceptors.push(extractor);\n      return this;\n    };\n    \n    config.errorInterceptors = config.errorInterceptors || [];\n    object.addErrorInterceptor = function (interceptor) {\n      config.errorInterceptors.push(interceptor);\n      return this;\n    };\n    \n    object.setResponseInterceptor = object.addResponseInterceptor;\n    object.setResponseExtractor = object.addResponseInterceptor;\n    object.setErrorInterceptor = object.addErrorInterceptor;\n    \n    /**\n     * Response interceptor is called just before resolving promises.\n     */\n    \n    \n    /**\n     * Request interceptor is called before sending an object to the server.\n     */\n    config.requestInterceptors = config.requestInterceptors || [];\n    \n    config.defaultInterceptor = function (element, operation, path, url, headers, params, httpConfig) {\n      return {\n        element: element,\n        headers: headers,\n        params: params,\n        httpConfig: httpConfig\n      };\n    };\n    \n    config.fullRequestInterceptor = function (element, operation, path, url, headers, params, httpConfig) {\n      var interceptors = _.clone(config.requestInterceptors);\n      var defaultRequest = config.defaultInterceptor(element, operation, path, url, headers, params, httpConfig);\n      return _.reduce(interceptors, function (request: any, interceptor: any) {\n        \n        let returnInterceptor: any = interceptor(request.element, operation, path, url, request.headers, request.params, request.httpConfig);\n        return _.extend(request, returnInterceptor);\n      }, defaultRequest);\n    };\n    \n    object.addRequestInterceptor = function (interceptor) {\n      config.requestInterceptors.push(function (elem, operation, path, url, headers, params, httpConfig) {\n        return {\n          headers: headers,\n          params: params,\n          element: interceptor(elem, operation, path, url),\n          httpConfig: httpConfig\n        };\n      });\n      return this;\n    };\n    \n    object.setRequestInterceptor = object.addRequestInterceptor;\n    \n    object.addFullRequestInterceptor = function (interceptor) {\n      config.requestInterceptors.push(interceptor);\n      return this;\n    };\n    \n    object.setFullRequestInterceptor = object.addFullRequestInterceptor;\n    \n    config.onBeforeElemRestangularized = config.onBeforeElemRestangularized || function (elem) {\n        return elem;\n      };\n    object.setOnBeforeElemRestangularized = function (post) {\n      config.onBeforeElemRestangularized = post;\n      return this;\n    };\n    \n    object.setRestangularizePromiseInterceptor = function (interceptor) {\n      config.restangularizePromiseInterceptor = interceptor;\n      return this;\n    };\n    \n    /**\n     * This method is called after an element has been \"Restangularized\".\n     *\n     * It receives the element, a boolean indicating if it's an element or a collection\n     * and the name of the model\n     *\n     */\n    config.onElemRestangularized = config.onElemRestangularized || function (elem) {\n        return elem;\n      };\n    object.setOnElemRestangularized = function (post) {\n      config.onElemRestangularized = post;\n      return this;\n    };\n    \n    config.shouldSaveParent = config.shouldSaveParent || function () {\n        return true;\n      };\n    object.setParentless = function (values) {\n      if (_.isArray(values)) {\n        config.shouldSaveParent = function (route) {\n          return !_.includes(values, route);\n        };\n      } else if (_.isBoolean(values)) {\n        config.shouldSaveParent = function () {\n          return !values;\n        };\n      }\n      return this;\n    };\n    \n    /**\n     * This lets you set a suffix to every request.\n     *\n     * For example, if your api requires that for JSon requests you do /users/123.json, you can set that\n     * in here.\n     *\n     *\n     * By default, the suffix is null\n     */\n    config.suffix = _.isUndefined(config.suffix) ? null : config.suffix;\n    object.setRequestSuffix = function (newSuffix) {\n      config.suffix = newSuffix;\n      return this;\n    };\n    \n    /**\n     * Add element transformers for certain routes.\n     */\n    config.transformers = config.transformers || {};\n    object.addElementTransformer = function (type, secondArg, thirdArg) {\n      var isCollection = null;\n      var transformer = null;\n      if (arguments.length === 2) {\n        transformer = secondArg;\n      } else {\n        transformer = thirdArg;\n        isCollection = secondArg;\n      }\n      \n      var typeTransformers = config.transformers[type];\n      if (!typeTransformers) {\n        typeTransformers = config.transformers[type] = [];\n      }\n      \n      typeTransformers.push(function (coll, elem) {\n        if (_.isNull(isCollection) || (coll === isCollection)) {\n          return transformer(elem);\n        }\n        return elem;\n      });\n      \n      return object;\n    };\n    \n    object.extendCollection = function (route, fn) {\n      return object.addElementTransformer(route, true, fn);\n    };\n    \n    object.extendModel = function (route, fn) {\n      return object.addElementTransformer(route, false, fn);\n    };\n    \n    config.transformElem = function (elem, isCollection, route, Restangular, force) {\n      if (!force && !config.transformLocalElements && !elem[config.restangularFields.fromServer]) {\n        return elem;\n      }\n      var typeTransformers = config.transformers[route];\n      var changedElem = elem;\n      if (typeTransformers) {\n        _.each(typeTransformers, function (transformer) {\n          changedElem = transformer(isCollection, changedElem);\n        });\n      }\n      return config.onElemRestangularized(changedElem, isCollection, route, Restangular);\n    };\n    \n    config.transformLocalElements = _.isUndefined(config.transformLocalElements) ?\n      false :\n      config.transformLocalElements;\n    \n    object.setTransformOnlyServerElements = function (active) {\n      config.transformLocalElements = !active;\n    };\n    \n    config.fullResponse = _.isUndefined(config.fullResponse) ? false : config.fullResponse;\n    object.setFullResponse = function (full) {\n      config.fullResponse = full;\n      return this;\n    };\n    \n    \n    //Internal values and functions\n    config.urlCreatorFactory = {};\n    \n    /**\n     * Base URL Creator. Base prototype for everything related to it\n     **/\n    \n    var BaseCreator = function () {\n    };\n    \n    BaseCreator.prototype.setConfig = function (config) {\n      this.config = config;\n      return this;\n    };\n    \n    BaseCreator.prototype.parentsArray = function (current) {\n      var parents = [];\n      while (current) {\n        parents.push(current);\n        current = current[this.config.restangularFields.parentResource];\n      }\n      return parents.reverse();\n    };\n    \n    function RestangularResource(config, $http, url, configurer) {\n      var resource = {};\n      _.each(_.keys(configurer), function (key) {\n        var value = configurer[key];\n        \n        // Add default parameters\n        value.params = _.extend({}, value.params, config.defaultRequestParams[value.method.toLowerCase()]);\n        // We don't want the ? if no params are there\n        if (_.isEmpty(value.params)) {\n          delete value.params;\n        }\n        \n        if (config.isSafe(value.method)) {\n          \n          resource[key] = function () {\n            let config = _.extend(value, {\n              url: url\n            });\n            return $http.createRequest(config);\n          };\n          \n        } else {\n          \n          resource[key] = function (data) {\n            let config = _.extend(value, {\n              url: url,\n              data: data\n            });\n            return $http.createRequest(config);\n          };\n          \n        }\n      });\n      \n      return resource;\n    }\n    \n    BaseCreator.prototype.resource = function (current, $http, localHttpConfig, callHeaders, callParams, what, etag, operation) {\n      var params = _.defaults(callParams || {}, this.config.defaultRequestParams.common);\n      var headers = _.defaults(callHeaders || {}, this.config.defaultHeaders);\n      \n      if (etag) {\n        if (!config.isSafe(operation)) {\n          headers['If-Match'] = etag;\n        } else {\n          headers['If-None-Match'] = etag;\n        }\n      }\n      \n      var url = this.base(current);\n      \n      if (what) {\n        var add = '';\n        if (!/\\/$/.test(url)) {\n          add += '/';\n        }\n        add += what;\n        url += add;\n      }\n      \n      if (this.config.suffix &&\n        url.indexOf(this.config.suffix, url.length - this.config.suffix.length) === -1 && !this.config.getUrlFromElem(current)) {\n        url += this.config.suffix;\n      }\n      \n      current[this.config.restangularFields.httpConfig] = undefined;\n      \n      return RestangularResource(this.config, $http, url, {\n        getList: this.config.withHttpValues(localHttpConfig,\n          {\n            method: 'GET',\n            params: params,\n            headers: headers\n          }),\n        \n        get: this.config.withHttpValues(localHttpConfig,\n          {\n            method: 'GET',\n            params: params,\n            headers: headers\n          }),\n        \n        jsonp: this.config.withHttpValues(localHttpConfig,\n          {\n            method: 'jsonp',\n            params: params,\n            headers: headers\n          }),\n        \n        put: this.config.withHttpValues(localHttpConfig,\n          {\n            method: 'PUT',\n            params: params,\n            headers: headers\n          }),\n        \n        post: this.config.withHttpValues(localHttpConfig,\n          {\n            method: 'POST',\n            params: params,\n            headers: headers\n          }),\n        \n        remove: this.config.withHttpValues(localHttpConfig,\n          {\n            method: 'DELETE',\n            params: params,\n            headers: headers\n          }),\n        \n        head: this.config.withHttpValues(localHttpConfig,\n          {\n            method: 'HEAD',\n            params: params,\n            headers: headers\n          }),\n        \n        trace: this.config.withHttpValues(localHttpConfig,\n          {\n            method: 'TRACE',\n            params: params,\n            headers: headers\n          }),\n        \n        options: this.config.withHttpValues(localHttpConfig,\n          {\n            method: 'OPTIONS',\n            params: params,\n            headers: headers\n          }),\n        \n        patch: this.config.withHttpValues(localHttpConfig,\n          {\n            method: 'PATCH',\n            params: params,\n            headers: headers\n          })\n      });\n    };\n    \n    /**\n     * This is the Path URL creator. It uses Path to show Hierarchy in the Rest API.\n     * This means that if you have an Account that then has a set of Buildings, a URL to a building\n     * would be /accounts/123/buildings/456\n     **/\n    var Path = function () {\n    };\n    \n    Path.prototype = new BaseCreator();\n    \n    Path.prototype.normalizeUrl = function (url) {\n      var parts = /((?:http[s]?:)?\\/\\/)?(.*)?/.exec(url);\n      parts[2] = parts[2].replace(/[\\\\\\/]+/g, '/');\n      return (typeof parts[1] !== 'undefined') ? parts[1] + parts[2] : parts[2];\n    };\n    \n    Path.prototype.base = function (current) {\n      var __this = this;\n      return _.reduce(this.parentsArray(current), function (acum: any, elem: any) {\n        var elemUrl;\n        var elemSelfLink = __this.config.getUrlFromElem(elem);\n        if (elemSelfLink) {\n          if (__this.config.isAbsoluteUrl(elemSelfLink)) {\n            return elemSelfLink;\n          } else {\n            elemUrl = elemSelfLink;\n          }\n        } else {\n          elemUrl = elem[__this.config.restangularFields.route];\n          \n          if (elem[__this.config.restangularFields.restangularCollection]) {\n            var ids = elem[__this.config.restangularFields.ids];\n            if (ids) {\n              elemUrl += '/' + ids.join(',');\n            }\n          } else {\n            var elemId: any;\n            if (__this.config.useCannonicalId) {\n              elemId = __this.config.getCannonicalIdFromElem(elem);\n            } else {\n              elemId = __this.config.getIdFromElem(elem);\n            }\n            \n            if (config.isValidId(elemId) && !elem.singleOne) {\n              elemUrl += '/' + (__this.config.encodeIds ? encodeURIComponent(elemId) : elemId);\n            }\n          }\n        }\n        acum = acum.replace(/\\/$/, '') + '/' + elemUrl;\n        return __this.normalizeUrl(acum);\n        \n      }, this.config.baseUrl);\n    };\n    \n    \n    Path.prototype.fetchUrl = function (current, what) {\n      var baseUrl = this.base(current);\n      if (what) {\n        baseUrl += '/' + what;\n      }\n      return baseUrl;\n    };\n    \n    Path.prototype.fetchRequestedUrl = function (current, what) {\n      var url = this.fetchUrl(current, what);\n      var params = current[config.restangularFields.reqParams];\n      \n      // From here on and until the end of fetchRequestedUrl,\n      // the code has been kindly borrowed from angular.js\n      // The reason for such code bloating is coherence:\n      //   If the user were to use this for cache management, the\n      //   serialization of parameters would need to be identical\n      //   to the one done by angular for cache keys to match.\n      function sortedKeys(obj) {\n        var keys = [];\n        for (var key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            keys.push(key);\n          }\n        }\n        return keys.sort();\n      }\n      \n      function forEachSorted(obj, iterator?, context?) {\n        var keys = sortedKeys(obj);\n        for (var i = 0; i < keys.length; i++) {\n          iterator.call(context, obj[keys[i]], keys[i]);\n        }\n        return keys;\n      }\n      \n      function encodeUriQuery(val, pctEncodeSpaces?) {\n        return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, (pctEncodeSpaces ? '%20' : '+'));\n      }\n      \n      if (!params) {\n        return url + (this.config.suffix || '');\n      }\n      \n      var parts = [];\n      forEachSorted(params, function (value, key) {\n        if (value === null || value === undefined) {\n          return;\n        }\n        if (!_.isArray(value)) {\n          value = [value];\n        }\n        \n        _.forEach(value, function (v) {\n          if (_.isObject(v)) {\n            v = JSON.stringify(v);\n          }\n          parts.push(encodeUriQuery(key) + '=' + encodeUriQuery(v));\n        });\n      });\n      \n      return url + (this.config.suffix || '') + ((url.indexOf('?') === -1) ? '?' : '&') + parts.join('&');\n    };\n    \n    config.urlCreatorFactory.path = Path;\n  };\n  \n  var globalConfiguration = {};\n  \n  Configurer.init(this, globalConfiguration);\n  \n  \n  this.$get = function () {\n    \n    function createServiceForConfiguration(config) {\n      var service: any = {};\n      \n      var urlHandler = new config.urlCreatorFactory[config.urlCreator]();\n      urlHandler.setConfig(config);\n      \n      function restangularizeBase(parent, elem, route, reqParams, fromServer) {\n        elem[config.restangularFields.route] = route;\n        elem[config.restangularFields.getRestangularUrl] = _.bind(urlHandler.fetchUrl, urlHandler, elem);\n        elem[config.restangularFields.getRequestedUrl] = _.bind(urlHandler.fetchRequestedUrl, urlHandler, elem);\n        elem[config.restangularFields.addRestangularMethod] = _.bind(addRestangularMethodFunction, elem);\n        elem[config.restangularFields.clone] = _.bind(copyRestangularizedElement, elem);\n        elem[config.restangularFields.reqParams] = _.isEmpty(reqParams) ? null : reqParams;\n        elem[config.restangularFields.withHttpConfig] = _.bind(withHttpConfig, elem);\n        elem[config.restangularFields.plain] = _.bind(stripRestangular, elem, elem);\n        \n        // Tag element as restangularized\n        elem[config.restangularFields.restangularized] = true;\n        \n        // RequestLess connection\n        elem[config.restangularFields.one] = _.bind(one, elem, elem);\n        elem[config.restangularFields.all] = _.bind(all, elem, elem);\n        elem[config.restangularFields.several] = _.bind(several, elem, elem);\n        elem[config.restangularFields.oneUrl] = _.bind(oneUrl, elem, elem);\n        elem[config.restangularFields.allUrl] = _.bind(allUrl, elem, elem);\n        \n        elem[config.restangularFields.fromServer] = !!fromServer;\n        \n        if (parent && config.shouldSaveParent(route)) {\n          var parentId = config.getIdFromElem(parent);\n          var parentUrl = config.getUrlFromElem(parent);\n          \n          var restangularFieldsForParent = _.union(\n            _.values(_.pick(config.restangularFields, ['route', 'singleOne', 'parentResource'])),\n            config.extraFields\n          );\n          var parentResource = _.pick(parent, restangularFieldsForParent);\n          \n          if (config.isValidId(parentId)) {\n            config.setIdToElem(parentResource, parentId, route);\n          }\n          if (config.isValidId(parentUrl)) {\n            config.setUrlToElem(parentResource, parentUrl, route);\n          }\n          \n          elem[config.restangularFields.parentResource] = parentResource;\n        } else {\n          elem[config.restangularFields.parentResource] = null;\n        }\n        return elem;\n      }\n      \n      function one(parent, route, id, singleOne) {\n        var error;\n        if (_.isNumber(route) || _.isNumber(parent)) {\n          error = 'You\\'re creating a Restangular entity with the number ';\n          error += 'instead of the route or the parent. For example, you can\\'t call .one(12).';\n          throw new Error(error);\n        }\n        if (_.isUndefined(route)) {\n          error = 'You\\'re creating a Restangular entity either without the path. ';\n          error += 'For example you can\\'t call .one(). Please check if your arguments are valid.';\n          throw new Error(error);\n        }\n        var elem = {};\n        config.setIdToElem(elem, id, route);\n        config.setFieldToElem(config.restangularFields.singleOne, elem, singleOne);\n        return restangularizeElem(parent, elem, route, false);\n      }\n      \n      \n      function all(parent, route) {\n        return restangularizeCollection(parent, [], route, false);\n      }\n      \n      function several(parent, route /*, ids */) {\n        var collection = [];\n        collection[config.restangularFields.ids] = Array.prototype.splice.call(arguments, 2);\n        return restangularizeCollection(parent, collection, route, false);\n      }\n      \n      function oneUrl(parent, route, url) {\n        if (!route) {\n          throw new Error('Route is mandatory when creating new Restangular objects.');\n        }\n        var elem = {};\n        config.setUrlToElem(elem, url, route);\n        return restangularizeElem(parent, elem, route, false);\n      }\n      \n      \n      function allUrl(parent, route, url) {\n        if (!route) {\n          throw new Error('Route is mandatory when creating new Restangular objects.');\n        }\n        var elem = {};\n        config.setUrlToElem(elem, url, route);\n        return restangularizeCollection(parent, elem, route, false);\n      }\n      \n      // Promises\n      function restangularizeResponse(subject, isCollection, valueToFill) {\n        return subject.filter(res => res);\n      }\n      \n      function resolvePromise(subject, response, data, filledValue) {\n        _.extend(filledValue, data);\n        \n        // Trigger the full response interceptor.\n        if (config.fullResponse) {\n          return subject.next(_.extend(response, {\n            data: data\n          }));\n        } else {\n          subject.next(data);\n        }\n      }\n      \n      \n      // Elements\n      function stripRestangular(elem) {\n        if (_.isArray(elem)) {\n          var array = [];\n          _.each(elem, function (value) {\n            array.push(config.isRestangularized(value) ? stripRestangular(value) : value);\n          });\n          return array;\n        } else {\n          return _.omit(elem, _.values(_.omit(config.restangularFields, 'id')));\n        }\n      }\n      \n      function addCustomOperation(elem) {\n        elem[config.restangularFields.customOperation] = _.bind(customFunction, elem);\n        var requestMethods = {get: customFunction, delete: customFunction};\n        _.each(['put', 'patch', 'post'], function (name) {\n          requestMethods[name] = function (operation, elem, path, params, headers) {\n            return _.bind(customFunction, this)(operation, path, params, headers, elem);\n          };\n        });\n        _.each(requestMethods, function (requestFunc, name) {\n          var callOperation = name === 'delete' ? 'remove' : name;\n          _.each(['do', 'custom'], function (alias) {\n            elem[alias + name.toUpperCase()] = _.bind(requestFunc, elem, callOperation);\n          });\n        });\n        elem[config.restangularFields.customGETLIST] = _.bind(fetchFunction, elem);\n        elem[config.restangularFields.doGETLIST] = elem[config.restangularFields.customGETLIST];\n      }\n      \n      function copyRestangularizedElement(fromElement, toElement = {}) {\n        var copiedElement = Object.assign(toElement, fromElement);\n        return restangularizeElem(copiedElement[config.restangularFields.parentResource],\n          copiedElement, copiedElement[config.restangularFields.route], true);\n      }\n      \n      function restangularizeElem(parent, element, route, fromServer?, collection?, reqParams?) {\n        var elem = config.onBeforeElemRestangularized(element, false, route);\n        \n        var localElem = restangularizeBase(parent, elem, route, reqParams, fromServer);\n        \n        if (config.useCannonicalId) {\n          localElem[config.restangularFields.cannonicalId] = config.getIdFromElem(localElem);\n        }\n        \n        if (collection) {\n          localElem[config.restangularFields.getParentList] = function () {\n            return collection;\n          };\n        }\n        \n        localElem[config.restangularFields.restangularCollection] = false;\n        localElem[config.restangularFields.get] = _.bind(getFunction, localElem);\n        localElem[config.restangularFields.getList] = _.bind(fetchFunction, localElem);\n        localElem[config.restangularFields.put] = _.bind(putFunction, localElem);\n        localElem[config.restangularFields.post] = _.bind(postFunction, localElem);\n        localElem[config.restangularFields.remove] = _.bind(deleteFunction, localElem);\n        localElem[config.restangularFields.head] = _.bind(headFunction, localElem);\n        localElem[config.restangularFields.trace] = _.bind(traceFunction, localElem);\n        localElem[config.restangularFields.options] = _.bind(optionsFunction, localElem);\n        localElem[config.restangularFields.patch] = _.bind(patchFunction, localElem);\n        localElem[config.restangularFields.save] = _.bind(save, localElem);\n        \n        addCustomOperation(localElem);\n        return config.transformElem(localElem, false, route, service, true);\n      }\n      \n      function restangularizeCollection(parent, element, route, fromServer?, reqParams?) {\n        var elem = config.onBeforeElemRestangularized(element, true, route);\n        \n        var localElem = restangularizeBase(parent, elem, route, reqParams, fromServer);\n        localElem[config.restangularFields.restangularCollection] = true;\n        localElem[config.restangularFields.post] = _.bind(postFunction, localElem, null);\n        localElem[config.restangularFields.remove] = _.bind(deleteFunction, localElem);\n        localElem[config.restangularFields.head] = _.bind(headFunction, localElem);\n        localElem[config.restangularFields.trace] = _.bind(traceFunction, localElem);\n        localElem[config.restangularFields.putElement] = _.bind(putElementFunction, localElem);\n        localElem[config.restangularFields.options] = _.bind(optionsFunction, localElem);\n        localElem[config.restangularFields.patch] = _.bind(patchFunction, localElem);\n        localElem[config.restangularFields.get] = _.bind(getById, localElem);\n        localElem[config.restangularFields.getList] = _.bind(fetchFunction, localElem, null);\n        \n        addCustomOperation(localElem);\n        return config.transformElem(localElem, true, route, service, true);\n      }\n      \n      function restangularizeCollectionAndElements(parent, element, route) {\n        var collection = restangularizeCollection(parent, element, route, false);\n        _.each(collection, function (elem) {\n          if (elem) {\n            restangularizeElem(parent, elem, route, false);\n          }\n        });\n        return collection;\n      }\n      \n      function getById(id, reqParams, headers) {\n        return this.customGET(id.toString(), reqParams, headers);\n      }\n      \n      function putElementFunction(idx, params, headers) {\n        var __this = this;\n        var elemToPut = this[idx];\n        var subject = new BehaviorSubject(null);\n        var filledArray = [];\n        filledArray = config.transformElem(filledArray, true, elemToPut[config.restangularFields.route], service);\n  \n        elemToPut.put(params, headers)\n        .subscribe(function (serverElem) {\n          var newArray = copyRestangularizedElement(__this);\n          newArray[idx] = serverElem;\n          filledArray = newArray;\n          subject.next(newArray);\n        }, function (response) {\n          subject.error(response);\n        });\n        \n        return restangularizeResponse(subject, true, filledArray);\n      }\n      \n      function parseResponse(resData, operation, route, fetchUrl, response, subject) {\n        var data = config.responseExtractor(resData, operation, route, fetchUrl, response, subject);\n        var etag = response.headers.get('ETag');\n        if (data && etag) {\n          data[config.restangularFields.etag] = etag;\n        }\n        return data;\n      }\n      \n      \n      function fetchFunction(what, reqParams, headers) {\n        var __this = this;\n        var subject = new BehaviorSubject(null);\n        var operation = 'getList';\n        var url = urlHandler.fetchUrl(this, what);\n        var whatFetched = what || __this[config.restangularFields.route];\n        \n        var request = config.fullRequestInterceptor(null, operation,\n          whatFetched, url, headers || {}, reqParams || {}, this[config.restangularFields.httpConfig] || {});\n        \n        var filledArray = [];\n        filledArray = config.transformElem(filledArray, true, whatFetched, service);\n        \n        var method = 'getList';\n        \n        if (config.jsonp) {\n          method = 'jsonp';\n        }\n        \n        var okCallback = function (response) {\n          var resData = response.data;\n          var fullParams = response.config.params;\n          var data = parseResponse(resData, operation, whatFetched, url, response, subject);\n          \n          // support empty response for getList() calls (some APIs respond with 204 and empty body)\n          if (_.isUndefined(data) || '' === data) {\n            data = [];\n          }\n          if (!_.isArray(data)) {\n            throw new Error('Response for getList SHOULD be an array and not an object or something else');\n          }\n          \n          if (true === config.plainByDefault) {\n            return resolvePromise(subject, response, data, filledArray);\n          }\n          \n          var processedData = _.map(data, function (elem) {\n            if (!__this[config.restangularFields.restangularCollection]) {\n              return restangularizeElem(__this, elem, what, true, data);\n            } else {\n              return restangularizeElem(__this[config.restangularFields.parentResource],\n                elem, __this[config.restangularFields.route], true, data);\n            }\n          });\n          \n          processedData = _.extend(data, processedData);\n          \n          if (!__this[config.restangularFields.restangularCollection]) {\n            resolvePromise(\n              subject,\n              response,\n              restangularizeCollection(\n                __this,\n                processedData,\n                what,\n                true,\n                fullParams\n              ),\n              filledArray\n            );\n          } else {\n            resolvePromise(\n              subject,\n              response,\n              restangularizeCollection(\n                __this[config.restangularFields.parentResource],\n                processedData,\n                __this[config.restangularFields.route],\n                true,\n                fullParams\n              ),\n              filledArray\n            );\n          }\n        };\n        \n        urlHandler.resource(this, $http, request.httpConfig, request.headers, request.params, what,\n          this[config.restangularFields.etag], operation)[method]()\n        .subscribe(okCallback, function error(response) {\n          if (response.status === 304 && __this[config.restangularFields.restangularCollection]) {\n            resolvePromise(subject, response, __this, filledArray);\n          } else if (_.every(config.errorInterceptors, function (cb: any) {\n              \n              return cb(response, subject, okCallback) !== false;\n            })) {\n            // triggered if no callback returns false\n            subject.error(response);\n          }\n        });\n        \n        return restangularizeResponse(subject, true, filledArray);\n      }\n      \n      function withHttpConfig(httpConfig) {\n        this[config.restangularFields.httpConfig] = httpConfig;\n        return this;\n      }\n      \n      function save(params, headers) {\n        if (this[config.restangularFields.fromServer]) {\n          return this[config.restangularFields.put](params, headers);\n        } else {\n          return _.bind(elemFunction, this)('post', undefined, params, undefined, headers);\n        }\n      }\n      \n      function elemFunction(operation, what, params, obj, headers) {\n        var __this = this;\n        var subject = new BehaviorSubject(null);\n        var resParams = params || {};\n        var route = what || this[config.restangularFields.route];\n        var fetchUrl = urlHandler.fetchUrl(this, what);\n        \n        var callObj = obj || this;\n        // fallback to etag on restangular object (since for custom methods we probably don't explicitly specify the etag field)\n        var etag = callObj[config.restangularFields.etag] || (operation !== 'post' ? this[config.restangularFields.etag] : null);\n        \n        if (_.isObject(callObj) && config.isRestangularized(callObj)) {\n          callObj = stripRestangular(callObj);\n        }\n        var request = config.fullRequestInterceptor(callObj, operation, route, fetchUrl,\n          headers || {}, resParams || {}, this[config.restangularFields.httpConfig] || {});\n        \n        var filledObject = {};\n        filledObject = config.transformElem(filledObject, false, route, service);\n        \n        var okCallback = function (response) {\n          var resData = _.get(response, 'data');\n          var fullParams = _.get(response, 'config.params');\n          \n          var elem = parseResponse(resData, operation, route, fetchUrl, response, subject);\n          \n          if (elem) {\n            var data;\n            if (true === config.plainByDefault) {\n              return resolvePromise(subject, response, elem, filledObject);\n            }\n            \n            if (operation === 'post' && !__this[config.restangularFields.restangularCollection]) {\n              data = restangularizeElem(\n                __this[config.restangularFields.parentResource],\n                elem,\n                route,\n                true,\n                null,\n                fullParams\n              );\n              resolvePromise(subject, response, data, filledObject);\n            } else {\n              data = restangularizeElem(\n                __this[config.restangularFields.parentResource],\n                elem,\n                __this[config.restangularFields.route],\n                true,\n                null,\n                fullParams\n              );\n              \n              data[config.restangularFields.singleOne] = __this[config.restangularFields.singleOne];\n              resolvePromise(subject, response, data, filledObject);\n            }\n            \n          } else {\n            resolvePromise(subject, response, undefined, filledObject);\n          }\n        };\n        \n        var errorCallback = function (response) {\n          if (response.status === 304 && config.isSafe(operation)) {\n            resolvePromise(subject, response, __this, filledObject);\n          } else if (_.every(config.errorInterceptors, function (cb: any) {\n              return cb(response, subject, okCallback) !== false;\n            })) {\n            // triggered if no callback returns false\n            subject.error(response);\n          }\n        };\n        // Overriding HTTP Method\n        var callOperation = operation;\n        var callHeaders = _.extend({}, request.headers);\n        var isOverrideOperation = config.isOverridenMethod(operation);\n        if (isOverrideOperation) {\n          callOperation = 'post';\n          callHeaders = _.extend(callHeaders, {'X-HTTP-Method-Override': operation === 'remove' ? 'DELETE' : operation.toUpperCase()});\n        } else if (config.jsonp && callOperation === 'get') {\n          callOperation = 'jsonp';\n        }\n        \n        if (config.isSafe(operation)) {\n          if (isOverrideOperation) {\n            urlHandler.resource(this, $http, request.httpConfig, callHeaders, request.params,\n              what, etag, callOperation)[callOperation]({}).subscribe(okCallback, errorCallback);\n          } else {\n            urlHandler.resource(this, $http, request.httpConfig, callHeaders, request.params,\n              what, etag, callOperation)[callOperation]().subscribe(okCallback, errorCallback);\n          }\n        } else {\n          urlHandler.resource(this, $http, request.httpConfig, callHeaders, request.params,\n            what, etag, callOperation)[callOperation](request.element).subscribe(okCallback, errorCallback);\n        }\n        \n        return restangularizeResponse(subject, false, filledObject);\n      }\n      \n      function getFunction(params, headers) {\n        return _.bind(elemFunction, this)('get', undefined, params, undefined, headers);\n      }\n      \n      function deleteFunction(params, headers) {\n        return _.bind(elemFunction, this)('remove', undefined, params, undefined, headers);\n      }\n      \n      function putFunction(params, headers) {\n        return _.bind(elemFunction, this)('put', undefined, params, undefined, headers);\n      }\n      \n      function postFunction(what, elem, params, headers) {\n        return _.bind(elemFunction, this)('post', what, params, elem, headers);\n      }\n      \n      function headFunction(params, headers) {\n        return _.bind(elemFunction, this)('head', undefined, params, undefined, headers);\n      }\n      \n      function traceFunction(params, headers) {\n        return _.bind(elemFunction, this)('trace', undefined, params, undefined, headers);\n      }\n      \n      function optionsFunction(params, headers) {\n        return _.bind(elemFunction, this)('options', undefined, params, undefined, headers);\n      }\n      \n      function patchFunction(elem, params, headers) {\n        return _.bind(elemFunction, this)('patch', undefined, params, elem, headers);\n      }\n      \n      function customFunction(operation, path, params, headers, elem) {\n        return _.bind(elemFunction, this)(operation, path, params, elem, headers);\n      }\n      \n      function addRestangularMethodFunction(name, operation, path, defaultParams, defaultHeaders, defaultElem) {\n        var bindedFunction;\n        if (operation === 'getList') {\n          bindedFunction = _.bind(fetchFunction, this, path);\n        } else {\n          bindedFunction = _.bind(customFunction, this, operation, path);\n        }\n        \n        var createdFunction = function (params, headers, elem) {\n          var callParams = _.defaults({\n            params: params,\n            headers: headers,\n            elem: elem\n          }, {\n            params: defaultParams,\n            headers: defaultHeaders,\n            elem: defaultElem\n          });\n          return bindedFunction(callParams.params, callParams.headers, callParams.elem);\n        };\n        \n        if (config.isSafe(operation)) {\n          this[name] = createdFunction;\n        } else {\n          this[name] = function (elem, params, headers) {\n            return createdFunction(params, headers, elem);\n          };\n        }\n      }\n      \n      function withConfigurationFunction(configurer) {\n        var newConfig = _.clone(_.omit(config, 'configuration'));\n        Configurer.init(newConfig, newConfig);\n        configurer(newConfig);\n        return createServiceForConfiguration(newConfig);\n      }\n      \n      function toService(route, parent) {\n        var knownCollectionMethods = _.values(config.restangularFields);\n        var serv: any = {};\n        var collection = (parent || service).all(route);\n        serv.one = _.bind(one, (parent || service), parent, route);\n        serv.post = _.bind(collection.post, collection);\n        serv.getList = _.bind(collection.getList, collection);\n        \n        for (var prop in collection) {\n          if (collection.hasOwnProperty(prop) && _.isFunction(collection[prop]) && !_.includes(knownCollectionMethods, prop)) {\n            serv[prop] = _.bind(collection[prop], collection);\n          }\n        }\n        \n        return serv;\n      }\n      \n      \n      Configurer.init(service, config);\n      \n      service.copy = _.bind(copyRestangularizedElement, service);\n      \n      service.service = _.bind(toService, service);\n      \n      service.withConfig = _.bind(withConfigurationFunction, service);\n      \n      service.one = _.bind(one, service, null);\n      \n      service.all = _.bind(all, service, null);\n      \n      service.several = _.bind(several, service, null);\n      \n      service.oneUrl = _.bind(oneUrl, service, null);\n      \n      service.allUrl = _.bind(allUrl, service, null);\n      \n      service.stripRestangular = _.bind(stripRestangular, service);\n      \n      service.restangularizeElement = _.bind(restangularizeElem, service);\n      \n      service.restangularizeCollection = _.bind(restangularizeCollectionAndElements, service);\n      \n      return service;\n    }\n    \n    return createServiceForConfiguration(globalConfiguration);\n  };\n  \n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}